fix nan at start
max char
fix hover operation
fix operation after operation